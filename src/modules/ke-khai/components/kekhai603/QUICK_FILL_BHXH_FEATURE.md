# TÃ­nh nÄƒng Äiá»n nhanh MÃ£ sá»‘ BHXH

## Tá»•ng quan
ÄÃ£ thÃªm tÃ­nh nÄƒng Ä‘iá»n nhanh mÃ£ sá»‘ BHXH vÃ o chá»©c nÄƒng "Äiá»n nhanh dá»¯ liá»‡u" trong KeKhai603ParticipantTable. TÃ­nh nÄƒng nÃ y giÃºp ngÆ°á»i dÃ¹ng Ä‘iá»n cÃ¹ng má»™t mÃ£ sá»‘ BHXH cho nhiá»u ngÆ°á»i tham gia má»™t cÃ¡ch nhanh chÃ³ng.

## TÃ­nh nÄƒng má»›i

### **Äiá»n nhanh MÃ£ sá»‘ BHXH**
- Äiá»n cÃ¹ng má»™t mÃ£ sá»‘ BHXH cho táº¥t cáº£ hoáº·c má»™t sá»‘ ngÆ°á»i Ä‘Æ°á»£c chá»n
- Validation tá»± Ä‘á»™ng: chá»‰ cho phÃ©p sá»‘, tá»‘i Ä‘a 10 kÃ½ tá»±
- Preview mÃ£ BHXH trÆ°á»›c khi Ã¡p dá»¥ng
- TÃ­ch há»£p vá»›i há»‡ thá»‘ng pháº¡m vi Ã¡p dá»¥ng (táº¥t cáº£/Ä‘Æ°á»£c chá»n)

## CÃ¡ch sá»­ dá»¥ng

### BÆ°á»›c 1: Má»Ÿ Äiá»n nhanh dá»¯ liá»‡u
1. Trong báº£ng danh sÃ¡ch ngÆ°á»i tham gia, click nÃºt **"Äiá»n nhanh"** (âš¡)
2. Modal "Äiá»n nhanh dá»¯ liá»‡u" sáº½ hiá»ƒn thá»‹

### BÆ°á»›c 2: Chá»n trÆ°á»ng MÃ£ sá»‘ BHXH
1. Trong pháº§n "Chá»n trÆ°á»ng cáº§n Ä‘iá»n", click vÃ o **"MÃ£ sá»‘ BHXH"** (icon #)
2. Giao diá»‡n sáº½ chuyá»ƒn sang cháº¿ Ä‘á»™ nháº­p mÃ£ BHXH

### BÆ°á»›c 3: Nháº­p mÃ£ sá»‘ BHXH
1. Nháº­p mÃ£ sá»‘ BHXH vÃ o Ã´ input (tá»‘i Ä‘a 10 sá»‘)
2. Há»‡ thá»‘ng tá»± Ä‘á»™ng lá»c chá»‰ cho phÃ©p sá»‘
3. Preview mÃ£ BHXH sáº½ hiá»ƒn thá»‹ bÃªn dÆ°á»›i

### BÆ°á»›c 4: Chá»n pháº¡m vi Ã¡p dá»¥ng
1. **Táº¥t cáº£ ngÆ°á»i tham gia**: Ãp dá»¥ng cho toÃ n bá»™ danh sÃ¡ch
2. **Chá»‰ nhá»¯ng ngÆ°á»i Ä‘Æ°á»£c chá»n**: Ãp dá»¥ng cho nhá»¯ng ngÆ°á»i Ä‘Æ°á»£c chá»n cá»¥ thá»ƒ

### BÆ°á»›c 5: Ãp dá»¥ng
1. Click **"Äiá»n mÃ£ BHXH"** Ä‘á»ƒ Ã¡p dá»¥ng
2. MÃ£ BHXH sáº½ Ä‘Æ°á»£c Ä‘iá»n vÃ o táº¥t cáº£ ngÆ°á»i Ä‘Æ°á»£c chá»n

## Giao diá»‡n ngÆ°á»i dÃ¹ng

### Chá»n trÆ°á»ng
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ“…] Sá»‘ thÃ¡ng Ä‘Ã³ng  [#] MÃ£ sá»‘ BHXH     â”‚
â”‚ [ğŸ‘¥] STT há»™                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Input mÃ£ BHXH
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nháº­p mÃ£ sá»‘ BHXH                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1234567890                      [#] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ğŸ’¡ MÃ£ BHXH sáº½ Ä‘Æ°á»£c Ä‘iá»n cho táº¥t cáº£      â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ # MÃ£ BHXH: 1234567890               â”‚ â”‚
â”‚ â”‚ 10/10 kÃ½ tá»±                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Validation vÃ  Quy táº¯c

### Input Validation
- **Chá»‰ cho phÃ©p sá»‘**: Tá»± Ä‘á»™ng loáº¡i bá» kÃ½ tá»± khÃ´ng pháº£i sá»‘
- **Tá»‘i Ä‘a 10 kÃ½ tá»±**: Giá»›i háº¡n Ä‘á»™ dÃ i theo quy Ä‘á»‹nh BHXH
- **Real-time validation**: Validation ngay khi ngÆ°á»i dÃ¹ng nháº­p

### Quy táº¯c Ã¡p dá»¥ng
- **Táº¥t cáº£**: Ãp dá»¥ng cho toÃ n bá»™ danh sÃ¡ch ngÆ°á»i tham gia
- **ÄÆ°á»£c chá»n**: Chá»‰ Ã¡p dá»¥ng cho nhá»¯ng ngÆ°á»i Ä‘Æ°á»£c chá»n cá»¥ thá»ƒ
- **Ghi Ä‘Ã¨**: MÃ£ BHXH má»›i sáº½ ghi Ä‘Ã¨ lÃªn mÃ£ cÅ© (náº¿u cÃ³)

## VÃ­ dá»¥ sá»­ dá»¥ng

### VÃ­ dá»¥ 1: Äiá»n cho táº¥t cáº£ (5 ngÆ°á»i)
**Input:** MÃ£ BHXH = "1234567890"
**Káº¿t quáº£:**
- NgÆ°á»i 1 â†’ maSoBHXH: "1234567890"
- NgÆ°á»i 2 â†’ maSoBHXH: "1234567890"
- NgÆ°á»i 3 â†’ maSoBHXH: "1234567890"
- NgÆ°á»i 4 â†’ maSoBHXH: "1234567890"
- NgÆ°á»i 5 â†’ maSoBHXH: "1234567890"

### VÃ­ dá»¥ 2: Äiá»n cho ngÆ°á»i Ä‘Æ°á»£c chá»n (chá»n ngÆ°á»i 2, 4)
**Input:** MÃ£ BHXH = "9876543210", chá»n ngÆ°á»i 2 vÃ  4
**Káº¿t quáº£:**
- NgÆ°á»i 1 â†’ maSoBHXH: (khÃ´ng thay Ä‘á»•i)
- NgÆ°á»i 2 â†’ maSoBHXH: "9876543210"
- NgÆ°á»i 3 â†’ maSoBHXH: (khÃ´ng thay Ä‘á»•i)
- NgÆ°á»i 4 â†’ maSoBHXH: "9876543210"
- NgÆ°á»i 5 â†’ maSoBHXH: (khÃ´ng thay Ä‘á»•i)

### VÃ­ dá»¥ 3: Validation input
**Input:** "abc123def456ghi789"
**Káº¿t quáº£:** "1234567890" (chá»‰ giá»¯ láº¡i sá»‘, tá»‘i Ä‘a 10 kÃ½ tá»±)

## TÃ­ch há»£p vá»›i cÃ¡c tÃ­nh nÄƒng khÃ¡c

### Vá»›i STT há»™ vÃ  Sá»‘ thÃ¡ng Ä‘Ã³ng
- CÃ³ thá»ƒ sá»­ dá»¥ng káº¿t há»£p vá»›i Ä‘iá»n nhanh STT há»™ vÃ  sá»‘ thÃ¡ng Ä‘Ã³ng
- Má»—i láº§n chá»‰ Ä‘iá»n Ä‘Æ°á»£c má»™t loáº¡i field
- CÃ³ thá»ƒ thá»±c hiá»‡n nhiá»u láº§n Ä‘iá»n nhanh liÃªn tiáº¿p

### Vá»›i Nháº­p há»™ gia Ä‘Ã¬nh
- TÃ­nh nÄƒng "Nháº­p há»™ gia Ä‘Ã¬nh" Ä‘Ã£ tá»± Ä‘á»™ng Ä‘iá»n mÃ£ BHXH
- TÃ­nh nÄƒng "Äiá»n nhanh" cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ Ä‘iá»u chá»‰nh láº¡i sau khi nháº­p

### Vá»›i BHXH API
- Sau khi Ä‘iá»n mÃ£ BHXH, cÃ³ thá»ƒ sá»­ dá»¥ng Enter Ä‘á»ƒ tra cá»©u thÃ´ng tin
- API sáº½ tá»± Ä‘á»™ng Ä‘iá»n cÃ¡c thÃ´ng tin khÃ¡c (há» tÃªn, ngÃ y sinh, v.v.)

## Lá»£i Ã­ch

### Tiáº¿t kiá»‡m thá»i gian
- KhÃ´ng cáº§n Ä‘iá»n tá»«ng mÃ£ BHXH má»™t cÃ¡ch thá»§ cÃ´ng
- Äáº·c biá»‡t há»¯u Ã­ch khi cÃ³ nhiá»u ngÆ°á»i cÃ¹ng mÃ£ BHXH (gia Ä‘Ã¬nh)

### Giáº£m lá»—i
- Validation tá»± Ä‘á»™ng trÃ¡nh nháº­p sai format
- Giáº£m thiá»ƒu lá»—i Ä‘Ã¡nh mÃ¡y

### Linh hoáº¡t
- CÃ³ thá»ƒ Ã¡p dá»¥ng cho táº¥t cáº£ hoáº·c chá»‰ nhá»¯ng ngÆ°á»i Ä‘Æ°á»£c chá»n
- TÃ­ch há»£p tá»‘t vá»›i workflow hiá»‡n táº¡i

## Technical Implementation

### Files Ä‘Ã£ thay Ä‘á»•i
1. **`QuickFillModal.tsx`**
   - ThÃªm field selection cho mÃ£ BHXH
   - ThÃªm input component vá»›i validation
   - Cáº­p nháº­t logic apply

2. **`KeKhai603ParticipantTable.tsx`**
   - Cáº­p nháº­t type cho handleQuickFill
   - Support mÃ£ BHXH trong quick fill handler

3. **`BulkInput.test.tsx`**
   - ThÃªm test cases cho tÃ­nh nÄƒng mÃ£ BHXH

### Key Components
```typescript
// Input validation
const handleBhxhInputChange = (value: string) => {
  const formattedValue = value.replace(/\D/g, '').slice(0, 10);
  setBhxhInput(formattedValue);
};

// Apply logic
const valueToApply = selectedField === 'maSoBHXH' ? bhxhInput : selectedValue;
onApply(selectedField, valueToApply, indices);
```

## Testing

### Test Cases
1. **Render test**: Verify mÃ£ BHXH option appears
2. **Input validation**: Test number-only and length limit
3. **Apply functionality**: Test onApply is called with correct parameters
4. **UI interaction**: Test field selection and input display

### Manual Testing
1. Má»Ÿ modal Ä‘iá»n nhanh
2. Chá»n "MÃ£ sá»‘ BHXH"
3. Nháº­p mÃ£ BHXH vá»›i kÃ½ tá»± há»—n há»£p
4. Verify chá»‰ sá»‘ Ä‘Æ°á»£c giá»¯ láº¡i
5. Chá»n pháº¡m vi Ã¡p dá»¥ng
6. Click "Äiá»n mÃ£ BHXH"
7. Verify mÃ£ Ä‘Æ°á»£c Ä‘iá»n Ä‘Ãºng vÃ o cÃ¡c participant

## Troubleshooting

### Váº¥n Ä‘á» thÆ°á»ng gáº·p
1. **MÃ£ BHXH khÃ´ng hiá»ƒn thá»‹**: Kiá»ƒm tra console log Ä‘á»ƒ debug
2. **Validation khÃ´ng hoáº¡t Ä‘á»™ng**: Verify handleBhxhInputChange function
3. **Apply khÃ´ng hoáº¡t Ä‘á»™ng**: Kiá»ƒm tra onApply callback

### Debug
- Má»Ÿ Console Ä‘á»ƒ xem log quÃ¡ trÃ¬nh Ä‘iá»n mÃ£ BHXH
- Kiá»ƒm tra state cá»§a participants sau khi Ã¡p dá»¥ng
- Verify input validation logic

## Future Enhancements

### TÃ­nh nÄƒng cÃ³ thá»ƒ thÃªm
1. **Bulk BHXH input**: Nháº­p nhiá»u mÃ£ BHXH cÃ¹ng lÃºc (má»—i dÃ²ng má»™t mÃ£)
2. **BHXH history**: LÆ°u láº¡i cÃ¡c mÃ£ BHXH Ä‘Ã£ sá»­ dá»¥ng gáº§n Ä‘Ã¢y
3. **Auto-complete**: Gá»£i Ã½ mÃ£ BHXH dá»±a trÃªn lá»‹ch sá»­
4. **Validation nÃ¢ng cao**: Kiá»ƒm tra format mÃ£ BHXH theo quy Ä‘á»‹nh

### Performance
- Debounce input validation Ä‘á»ƒ giáº£m re-renders
- Optimize cho danh sÃ¡ch lá»›n (>100 ngÆ°á»i)

TÃ­nh nÄƒng **"Äiá»n nhanh MÃ£ sá»‘ BHXH"** Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng! ğŸ‰
